<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dentaku</title>
</head>
<body>
    <input type="text" id="result">
    <!--

        C %÷
        789x
        456-
        123+
         0.=
    -->
    <div>
        <input type="button" value="C" onclick="reset()">
        <input type="button" value="">
        <input type="button" value="%">
        <input type="button" value="÷" onclick="calc(this)">
    </div>
    <div>
        <input type="button" value="7" onclick="edit(this)">
        <input type="button" value="8" onclick="edit(this)">
        <input type="button" value="9" onclick="edit(this)">
        <input type="button" value="x" onclick="calc(this)">
    </div>
    <div>
        <input type="button" value="4" onclick="edit(this)">
        <input type="button" value="5" onclick="edit(this)">
        <input type="button" value="6" onclick="edit(this)">
        <input type="button" value="-" onclick="calc(this)">
    </div>
    <div>
        <input type="button" value="1" onclick="edit(this)">
        <input type="button" value="2" onclick="edit(this)">
        <input type="button" value="3" onclick="edit(this)">
        <input type="button" value="+" onclick="calc(this)">
    </div>
    <div>
        <input type="button" value="">
        <input type="button" value="0" onclick="edit(this)">
        <input type="button" value="." onclick="edit(this)">
        <input type="button" value="=" onclick="calc(this)">
    </div>

    <script language="javascript" type="text/javascript"> //javascriptと明示するのはいらない

        var result = document.getElementById("result");
        var memory = 0;
        var ans = 0;
        var flag = 1 //前が数字1, 前が記号0　// flag どこに使う？
        var isSimbol = false; //記号チェック
        var Total = 0;

        // 順番に2 + 2 = 入力されたらどうなるかよく考える。
        // 僕からは直しません
        function edit(element)
        {
            if(flag == 1)
            { 
                result.value = result.value + element.value;
            }
            else
            {
                flag = 1;
                result.value += element.value;
            }

            isSimbol = false;
        }

        function calc(element1)
        {
            // 記号複数入力処理
            if(isSimbol){
                result.value = "";
                return;
            }

            //if(flag == 1) //　波かっこどこ？
            // switch　は？
            if (element1.value == "+")
            {   
                //ans += memory;
                //memory = ans;
                memory += result.value;
                result.value = "";
                isSimbol = true;
            }

            if (element1.value == "-")
            {
                //ans -= memory;
                //memory = ans;
                memory -= result.value;
                result.value = "";
                isSimbol = true;
            }

            if (element1.value == "x")
            {
                //ans *= memory;
                //memory = ans;
                memory *= result.value;
                result.value = "";
                isSimbol = true;
            }

            if (element1.value == "รท")
            {
                //ans = memory / ans;
                //memory = ans;
                memory /= result.value;
                result.value = "";
                isSimbol = true;
            }

            if (element1.value == "=")
            {
                //result.value = memory.value;
                result.value = memory;
                isSimbol = true;
            }

        }
        function reset()
        {
            result.value = "";
            //memory.value = "";
            memory = 0;
        }

        /*
         * ちゃんと機能するのかチェックしなかった。
         * 簡単なものでもいいのでバグがあるのか自分で試してみること
        */
    </script>
</body>
</html>